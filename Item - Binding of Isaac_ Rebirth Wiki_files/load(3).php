mw.loader.implement("mediawiki.api",function($,jQuery){(function(mw,$){var defaultOptions={parameters:{action:'query',format:'json'},ajax:{url:mw.util.wikiScript('api'),timeout:30*1000,dataType:'json'}},deferreds={};deferreds[defaultOptions.ajax.url]={};$.each(mw.user.tokens.get(),function(key,value){deferreds[defaultOptions.ajax.url][key]=$.Deferred().resolve(value).promise({abort:function(){}});});mw.Api=function(options){if(options===undefined){options={};}if(options.ajax&&options.ajax.url!==undefined){options.ajax.url=String(options.ajax.url);}options.parameters=$.extend({},defaultOptions.parameters,options.parameters);options.ajax=$.extend({},defaultOptions.ajax,options.ajax);this.defaults=options;};mw.Api.prototype={normalizeAjaxOptions:function(arg){var opts=arg||{};if(typeof arg==='function'){opts={ok:arg};}return opts;},get:function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='GET';return this.ajax(parameters,ajaxOptions);},post:
function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='POST';return this.ajax(parameters,ajaxOptions);},ajax:function(parameters,ajaxOptions){var token,apiDeferred=$.Deferred(),msg='Use of mediawiki.api callback params is deprecated. Use the Promise instead.',xhr,key,formData;parameters=$.extend({},this.defaults.parameters,parameters);ajaxOptions=$.extend({},this.defaults.ajax,ajaxOptions);if(parameters.token){token=parameters.token;delete parameters.token;}if(ajaxOptions.type==='POST'&&window.FormData&&ajaxOptions.contentType==='multipart/form-data'){formData=new FormData();for(key in parameters){formData.append(key,parameters[key]);}if(token){formData.append('token',token);}ajaxOptions.data=formData;ajaxOptions.processData=false;ajaxOptions.contentType=false;}else{ajaxOptions.data=$.param(parameters).replace(/\./g,'%2E');if(token){ajaxOptions.data+='&token='+encodeURIComponent(token);}if(ajaxOptions.contentType==='multipart/form-data'){
delete ajaxOptions.contentType;}}if(ajaxOptions.ok){mw.track('mw.deprecate','api.cbParam');mw.log.warn(msg);apiDeferred.done(ajaxOptions.ok);delete ajaxOptions.ok;}if(ajaxOptions.err){mw.track('mw.deprecate','api.cbParam');mw.log.warn(msg);apiDeferred.fail(ajaxOptions.err);delete ajaxOptions.err;}xhr=$.ajax(ajaxOptions).fail(function(xhr,textStatus,exception){apiDeferred.reject('http',{xhr:xhr,textStatus:textStatus,exception:exception});}).done(function(result,textStatus,jqXHR){if(result===undefined||result===null||result===''){apiDeferred.reject('ok-but-empty','OK response but empty result (check HTTP headers?)');}else if(result.error){var code=result.error.code===undefined?'unknown':result.error.code;apiDeferred.reject(code,result);}else{apiDeferred.resolve(result,jqXHR);}});return apiDeferred.promise({abort:xhr.abort}).fail(function(code,details){mw.log('mw.Api error: ',code,details);});},postWithToken:function(tokenType,params){var api=this;return api.getToken(tokenType).then(
function(token){params.token=token;return api.post(params).then(null,function(code){if(code==='badtoken'){deferreds[api.defaults.ajax.url][tokenType+'Token']=params.token=undefined;return api.getToken(tokenType).then(function(token){params.token=token;return api.post(params);});}return this;});});},getToken:function(type){var apiPromise,deferredGroup=deferreds[this.defaults.ajax.url],d=deferredGroup&&deferredGroup[type+'Token'];if(!d){d=$.Deferred();apiPromise=this.get({action:'tokens',type:type}).done(function(data){if(data.tokens&&data.tokens[type+'token']){d.resolve(data.tokens[type+'token']);}else{d.reject('token-missing',data);}}).fail(d.reject);d.abort=apiPromise.abort;if(!deferredGroup){deferredGroup=deferreds[this.defaults.ajax.url]={};}deferredGroup[type+'Token']=d;}return d.promise({abort:d.abort});}};mw.Api.errors=['ok-but-empty','timeout','duplicate','duplicate-archive','noimageinfo','uploaddisabled','nomodule','mustbeposted','badaccess-groups','stashfailed','missingresult'
,'missingparam','invalid-file-key','copyuploaddisabled','mustbeloggedin','empty-file','file-too-large','filetype-missing','filetype-banned','filetype-banned-type','filename-tooshort','illegal-filename','verification-error','hookaborted','unknown-error','internal-error','overwrite','badtoken','fetchfileerror','fileexists-shared-forbidden','invalidtitle','notloggedin'];mw.Api.warnings=['duplicate','exists'];}(mediaWiki,jQuery));},{},{});mw.loader.implement("mediawiki.user",function($,jQuery){(function(mw,$){var user,deferreds={},options=mw.user.options||new mw.Map(),tokens=mw.user.tokens||new mw.Map();function getUserInfo(info,callback){var api;if(!deferreds[info]){deferreds.rights=$.Deferred();deferreds.groups=$.Deferred();api=new mw.Api();api.get({action:'query',meta:'userinfo',uiprop:'rights|groups'}).always(function(data){var rights,groups;if(data.query&&data.query.userinfo){rights=data.query.userinfo.rights;groups=data.query.userinfo.groups;}deferreds.rights.resolve(rights||[]);
deferreds.groups.resolve(groups||[]);});}return deferreds[info].done(callback).promise();}mw.user=user={options:options,tokens:tokens,generateRandomSessionId:function(){var i,r,id='',seed='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';for(i=0;i<32;i++){r=Math.floor(Math.random()*seed.length);id+=seed.substring(r,r+1);}return id;},getId:function(){return mw.config.get('wgUserId',0);},getName:function(){return mw.config.get('wgUserName');},name:function(){return user.getName();},getRegistration:function(){var registration=mw.config.get('wgUserRegistration');if(user.isAnon()){return false;}else if(registration===null){return null;}else{return new Date(registration);}},isAnon:function(){return user.getName()===null;},anonymous:function(){return user.isAnon();},sessionId:function(){var sessionId=$.cookie('mediaWiki.user.sessionId');if(sessionId===undefined||sessionId===null){sessionId=user.generateRandomSessionId();$.cookie('mediaWiki.user.sessionId',sessionId,{expires:
null,path:'/'});}return sessionId;},id:function(){return user.getName()||user.sessionId();},bucket:function(key,options){var cookie,parts,version,bucket,range,k,rand,total;options=$.extend({buckets:{},version:0,expires:30},options||{});cookie=$.cookie('mediaWiki.user.bucket:'+key);if(typeof cookie==='string'&&cookie.length>2&&cookie.indexOf(':')!==-1){parts=cookie.split(':');if(parts.length>1&&Number(parts[0])===options.version){version=Number(parts[0]);bucket=String(parts[1]);}}if(bucket===undefined){if(!$.isPlainObject(options.buckets)){throw new Error('Invalid bucket. Object expected for options.buckets.');}version=Number(options.version);range=0;for(k in options.buckets){range+=options.buckets[k];}rand=Math.random()*range;total=0;for(k in options.buckets){bucket=k;total+=options.buckets[k];if(total>=rand){break;}}$.cookie('mediaWiki.user.bucket:'+key,version+':'+bucket,{path:'/',expires:Number(options.expires)});}return bucket;},getGroups:function(callback){return getUserInfo(
'groups',callback);},getRights:function(callback){return getUserInfo('rights',callback);}};}(mediaWiki,jQuery));},{},{});mw.loader.implement("mobile.head",function($,jQuery){mw.mobileFrontend={_modules:{},isAlphaGroupMember:function(){return mw.config.get('wgMFMode')==='alpha';},isBetaGroupMember:function(){return mw.config.get('wgMFMode')==='beta'||this.isAlphaGroupMember();},isApp:function(){return mw.config.get('wgMFMode')==='app';},assertMode:function(modes){var mode=mw.config.get('wgMFMode');if(modes.indexOf(mode)===-1){throw new Error('Attempt to run module outside declared environment mode '+mode);}},require:function(id){if(!this._modules.hasOwnProperty(id)){throw new Error('Module not found: '+id);}return this._modules[id];},testMode:mw.config.get('wgCanonicalSpecialPageName')==='JavaScriptTest',define:function(id,obj){if(this._modules.hasOwnProperty(id)){throw new Error('Module already exists: '+id);}this._modules[id]=obj;if(obj.init&&!this.testMode){obj.init();}}};(function(M
){function extend(prototype){var Parent=this,key;function Child(){return Parent.apply(this,arguments);}function Surrogate(){}Surrogate.prototype=Parent.prototype;Child.prototype=new Surrogate();Child.prototype._parent=Parent.prototype;for(key in prototype){if(typeof prototype[key]==='function'&&typeof Parent.prototype[key]==='function'){Child.prototype[key]=(function(key,fn){return function(){var tmp=this._super,ret;this._super=Parent.prototype[key];ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(key,prototype[key]);}else{Child.prototype[key]=prototype[key];}}Child.extend=extend;return Child;}function Class(){this.initialize.apply(this,arguments);}Class.prototype.initialize=function(){};Class.extend=extend;M.define('Class',Class);}(mw.mobileFrontend));(function(M,$){var Class=M.require('Class'),EventEmitter;function callbackProxy(callback){return function(){var args=Array.prototype.slice.call(arguments,1);callback.apply(callback,args);};}EventEmitter=Class.extend({on:
function(event,callback){$(this).on(event,callbackProxy(callback));return this;},one:function(event,callback){$(this).one(event,callbackProxy(callback));return this;},emit:function(event){var args=Array.prototype.slice.call(arguments,1);$(this).triggerHandler(event,args);return this;}});M.define('eventemitter',EventEmitter);$.extend(M,new EventEmitter());}(mw.mobileFrontend,jQuery));(function(M,$){var moved=false;function isOpen(){return $('body').hasClass('navigation-enabled');}function closeNavigationDrawers(){$('body').removeClass('navigation-enabled').removeClass('secondary-navigation-enabled').removeClass('primary-navigation-enabled');}function openNavigationDrawer(drawerType){closeNavigationDrawers();drawerType=drawerType||'primary';$('body').toggleClass('navigation-enabled').toggleClass(drawerType+'-navigation-enabled');}function initialize(){if(M.isBetaGroupMember()){$('#searchInput').prop('readonly',true);$('#mw-mf-main-menu-button').on('tap',function(ev){if(isOpen()){
closeNavigationDrawers();}else{openNavigationDrawer();}ev.preventDefault();ev.stopPropagation();});$('#mw-mf-page-center').on('tap',function(ev){if(isOpen()){closeNavigationDrawers();ev.preventDefault();}});$('<div class="transparent-shield">').appendTo('#mw-mf-page-center');}else{$('#mw-mf-main-menu-button').click(function(ev){if(isOpen()){closeNavigationDrawers();}else{openNavigationDrawer();}ev.preventDefault();}).on('touchend mouseup',function(ev){ev.stopPropagation();});$('#mw-mf-page-center').on('touchend mouseup',function(){if(isOpen()&&!moved){closeNavigationDrawers();}}).on('touchstart',function(){moved=false;}).on('touchmove',function(){moved=true;});}}M.define('mainmenu',{openNavigationDrawer:openNavigationDrawer,closeNavigationDrawers:closeNavigationDrawers});M.on('header-loaded',initialize);}(mw.mobileFrontend,jQuery));(function(M){var units=['seconds','minutes','hours','days','months','years'],limits=[1,60,3600,86400,2592000,31536000];function timeAgo(timestampDelta){var i
=0;while(i<limits.length&&timestampDelta>limits[i+1]){++i;}return{value:Math.round(timestampDelta/limits[i]),unit:units[i]};}function getTimeAgoDelta(timestamp){var currentTimestamp=Math.round(new Date().getTime()/1000),delta=timeAgo(currentTimestamp-timestamp);return delta;}function isRecent(delta){var u=delta.unit;return['seconds','minutes','hours'].indexOf(u)>-1;}function isNow(delta){return delta.unit==='seconds'&&delta.value<10;}M.define('modules/lastEdited/time',{timeAgo:timeAgo,getTimeAgoDelta:getTimeAgoDelta,isNow:isNow,isRecent:isRecent});}(mw.mobileFrontend));},{},{});mw.loader.implement("mobile.startup",function($,jQuery){mw.template.add("page",
"{{#inBetaOrAlpha}}\n\u003Ca href=\"{{historyUrl}}\" id=\"mw-mf-last-modified\" data-timestamp=\"{{lastModifiedTimestamp}}\"\n\tdata-user-name=\"{{lastModifiedUserName}}\" data-user-gender=\"{{lastModifiedUserGender}}\" class=\"top-bar\t\"\n\t\u003E\u003C/a\u003E\n{{/inBetaOrAlpha}}\n\u003Cdiv class=\"pre-content\"\u003E\n\t\u003Ch1 id=\"section_0\"\u003E{{displayTitle}}\u003C/h1\u003E\n\t\u003Cul id=\"page-actions\" class=\"hlist\"\u003E\n\t\t\u003Cli id=\"ca-edit\"\u003E\u003C/li\u003E\u003Cli id=\"ca-upload\"\u003E\n\t\t\u003C/li\u003E\u003Cli id=\"ca-talk\" class=\"{{#isTalkPage}}selected{{/isTalkPage}}\"\u003E\u003Ca href=\"{{talkLink}}\" id=\"talk\"\u003E{{talkLabel}}\u003C/a\u003E\n\t\t\u003C/li\u003E\u003Cli id=\"ca-watch\"\u003E\u003C/li\u003E\n\t\u003C/ul\u003E\n\u003C/div\u003E\n\u003Cdiv id=\"content\" class=\"content\"\u003E\n\t\u003Cdiv\u003E{{{lead}}}\u003C/div\u003E\n\t{{#sections}}\n\t\u003Ch2 data-id=\"{{id}}\"\u003E\n\t\t\u003Cspan id=\"{{anchor}}\"\u003E{{{line}}}\u003C/span\u003E\n\t\t\u003Ca href=\"#editor/{{id}}\" data-section=\"{{id}}\" class=\"edit-page\"\u003E{{editLabel}}\u003C/a\u003E\n\t\u003C/h2\u003E\n\t\u003Cdiv\n\t\tdata-references=\"{{isReferences}}\"\n\t\tdata-content=\"{{text}}\"\u003E\n\t\u003C/div\u003E\n\t{{/sections}}\n\t{{#inBetaOrAlpha}}\n\t{{#hasLanguages}}\n\t\u003Cdiv id=\"page-secondary-actions\"\u003E\n\t\t\u003Ca href=\"{{languageUrl}}\" class=\"mw-ui-button mw-ui-progressive button languageSelector\"\u003E{{languageLabel}}\u003C/a\u003E\n\t\u003C/div\u003E\n\t{{/hasLanguages}}\n\t{{/inBetaOrAlpha}}\n\t{{^inBetaOrAlpha}}\n\t{{#hasLanguages}}\n\t\u003Ca href=\"{{languageUrl}}\" class=\"mw-ui-button mw-ui-progressive button languageSelector\"\u003E{{languageLabel}}\u003C/a\u003E\n\t{{/hasLanguages}}\n\t\u003Ca href=\"{{historyUrl}}\" id=\"mw-mf-last-modified\" data-timestamp=\"{{lastModifiedTimestamp}}\"\n\t\tdata-user-name=\"{{lastModifiedUserName}}\" data-user-gender=\"{{lastModifiedUserGender}}\"\n\t\t\u003E\u003C/a\u003E\n\t{{/inBetaOrAlpha}}\n\u003C/div\u003E\n"
);mw.template.add("section","{{#heading}}\n\u003Ch2\u003E\n\t\u003Cspan id=\"{{anchor}}\"\u003E{{{heading}}}\u003C/span\u003E\n\t\u003Ca href=\"#editor/{{id}}\" data-section=\"{{id}}\" class=\"edit-page\"\u003E{{editLabel}}\u003C/a\u003E\n\u003C/h2\u003E\n{{/heading}}\n\u003Cdiv\u003E\n{{{content}}}\n\u003C/div\u003E\n");(function(M,$){var EventEmitter=M.require('eventemitter');function matchRoute(hash,entry){var match=hash.match(entry.path);if(match){entry.callback.apply(this,match.slice(1));return true;}return false;}function Router(){var self=this;this.routes={};this._enabled=true;this._oldHash=this.getPath();$(window).on('hashchange',function(){var routeEv;if(self._enabled){routeEv=$.Event('route',{path:self.getPath()});self.emit('route',routeEv);if(!routeEv.isDefaultPrevented()){self.checkRoute();}else{self._enabled=false;window.location.hash=self._oldHash;}}else{self._enabled=true;}self._oldHash=self.getPath();});}Router.prototype=new EventEmitter();Router.prototype.checkRoute=
function(){var hash=this.getPath();$.each(this.routes,function(id,entry){return!matchRoute(hash,entry);});};Router.prototype.route=function(path,callback){var entry={path:typeof path==='string'?new RegExp('^'+path+'$'):path,callback:callback};this.routes[entry.path]=entry;matchRoute(this.getPath(),entry);};Router.prototype.navigate=function(path){window.location.hash=path;};Router.prototype.back=function(){window.history.back();};Router.prototype.getPath=function(){return window.location.hash.slice(1);};Router.prototype.isSupported=function(){return'onhashchange'in window;};M.define('Router',Router);}(mw.mobileFrontend,jQuery));(function(M,$){var Class=M.require('Class'),OverlayManager;OverlayManager=Class.extend({initialize:function(router){router.on('route',$.proxy(this,'_checkRoute'));this.router=router;this.entries={};this.stack=[];this.hidePrevious=true;},_showOverlay:function(overlay){var self=this;overlay.on('hide-button',function(){self.hidePrevious=false;self.router.back();});
overlay.show();},_processMatch:function(match){var self=this,factoryResult;if(match){if(match.overlay){self._showOverlay(match.overlay);}else{factoryResult=match.factoryResult;if($.isFunction(factoryResult.promise)){factoryResult.done(function(overlay){match.overlay=overlay;self._showOverlay(overlay);});}else{match.overlay=factoryResult;self._showOverlay(factoryResult);}}}},_checkRoute:function(ev){var self=this,previous=this.stack[0],match;$.each(this.entries,function(id,entry){match=self._matchRoute(ev.path,entry);return match===null;});if(previous&&previous.overlay!==undefined&&this.hidePrevious&&!previous.overlay.hide(this.stack.length>1)){ev.preventDefault();}else if(!match){this.stack=[];}this.hidePrevious=true;this._processMatch(match);},_matchRoute:function(path,entry){var match=path.match(entry.route),previous=this.stack[1],current;if(match){if(previous&&previous.path===path){this.stack.shift();return previous;}else{current={path:path,factoryResult:entry.factory.apply(this,
match.slice(1))};this.stack.unshift(current);return current;}}return null;},add:function(route,factory){var entry={route:route,factory:factory};this.entries[route]=entry;this._processMatch(this._matchRoute(this.router.getPath(),entry));},replaceCurrent:function(overlay){if(this.stack.length===0){throw new Error("Trying to replace OverlayManager's current overlay, but stack is empty");}this.stack[0].overlay.hide();this.stack[0].overlay=overlay;this._showOverlay(overlay);}});M.define('OverlayManager',OverlayManager);}(mw.mobileFrontend,jQuery));(function(M,$){var EventEmitter=M.require('eventemitter'),user=M.require('user'),apiUrl=mw.config.get('wgScriptPath','')+'/api.php',Api,api;Api=EventEmitter.extend({apiUrl:apiUrl,initialize:function(){this.requests=[];this.tokenCache={};},ajax:function(data,options){var key,request,self=this,isFormData;options=$.extend({url:apiUrl,dataType:'json'},options);isFormData=typeof FormData!=='undefined'&&data instanceof FormData;if(isFormData){data.
append('format','json');}else if(typeof data!=='string'){for(key in data){if(data[key]===false){delete data[key];}else if($.isArray(data[key])){data[key]=data[key].join('|');}}data=$.extend({format:'json'},data);}options.data=data;options.xhr=function(){var xhr=$.ajaxSettings.xhr();if(xhr.upload&&(mw.config.get('wgMFAjaxUploadProgressSupport'))){xhr.upload.addEventListener('progress',function(ev){if(ev.lengthComputable){self.emit('progress',request,ev.loaded/ev.total);}});}return xhr;};request=$.ajax(options);this.requests.push(request);return request;},get:function(data,options){options=$.extend({},options,{type:'GET'});return this.ajax(data,options);},post:function(data,options){options=$.extend({},options,{type:'POST'});return this.ajax(data,options);},abort:function(){this.requests.forEach(function(request){request.abort();});},getToken:function(tokenType,endpoint,caToken){var token,data,d=$.Deferred(),isCacheable,easyTokens=['edit','watch','patrol'];tokenType=tokenType||'edit';
isCacheable=tokenType!=='centralauth';if(!this.tokenCache[endpoint]){this.tokenCache[endpoint]={};}if(user.isAnon()&&!mw.config.get('wgMFAnonymousEditing')){return d.reject('Token requested when not logged in.');}else if(isCacheable&&this.tokenCache[endpoint].hasOwnProperty(tokenType)){return this.tokenCache[endpoint][tokenType];}else if(easyTokens.indexOf(tokenType)>-1&&!endpoint&&!caToken){token=user.tokens.get(tokenType+'Token');if(token&&(token!=='+\\'||mw.config.get('wgMFAnonymousEditing'))){d.resolve(token);}else{d.reject('Anonymous token.');}}else{data={action:'tokens',type:tokenType};if(endpoint){data.origin=M.getOrigin();if(caToken){data.centralauthtoken=caToken;}}this.ajax(data,{url:endpoint||this.apiUrl,xhrFields:{withCredentials:true}}).done(function(tokenData){if(tokenData&&tokenData.tokens&&!tokenData.warnings){token=tokenData.tokens[tokenType+'token'];if(token&&(token!=='+\\'||mw.config.get('wgMFAnonymousEditing'))){d.resolve(token);}else{d.reject('Anonymous token.');}}
else{d.reject('Bad token name.');}}).fail(function(){d.reject('Failed to retrieve token.');});}this.tokenCache[endpoint][tokenType]=d;return d;}});api=new Api();api.Api=Api;if(typeof mw.Api==='undefined'){mw.Api=Api;}M.define('api',api);}(mw.mobileFrontend,jQuery));(function(M,$){var Api=M.require('api').Api,PageApi;function assignToParent(listOfSections,child){var section;if(listOfSections.length===0){listOfSections.push(child);}else{section=listOfSections[listOfSections.length-1];if(parseInt(section.level,10)===parseInt(child.level,10)){listOfSections.push(child);}else{assignToParent(section.children,child);}}}function transformSections(sections){var collapseLevel=Math.min.apply(this,$.map(sections,function(s){return s.level;}))+'',lastSection,result=[],$tmpContainer=$('<div>');$.each(sections,function(i,section){section.lineText=$('<div>').html(section.line).text();section.children=[];if(!section.level||section.level===collapseLevel){result.push(section);lastSection=section;}else{
$tmpContainer.html(section.text);$tmpContainer.prepend($('<h'+section.level+'>').attr('id',section.anchor).html(section.line));assignToParent(lastSection.children,section);lastSection.text+=$tmpContainer.html();}});return result;}PageApi=Api.extend({initialize:function(){this._super();this.cache={};},getPage:function(title,endpoint,leadOnly){var options=endpoint?{url:endpoint,dataType:'jsonp'}:{},page,timestamp;if(!this.cache[title]){page=this.cache[title]=$.Deferred();this.get({action:'mobileview',page:title,variant:mw.config.get('wgPreferredVariant'),redirect:'yes',prop:'id|sections|text|lastmodified|lastmodifiedby|languagecount|hasvariants|protection|displaytitle|revision',noheadings:'yes',noimages:mw.config.get('wgImagesDisabled',false)?1:undefined,sectionprop:'level|line|anchor',sections:leadOnly?0:'all'},options).done(function(resp){var sections,lastModified,resolveObj,mv;if(resp.error||!resp.mobileview.sections){page.reject(resp);}else if(resp.mobileview.hasOwnProperty(
'liquidthreads')){page.reject({error:{code:'lqt'}});}else{mv=resp.mobileview;sections=transformSections(mv.sections);timestamp=new Date(mv.lastmodified).getTime()/1000;lastModified=mv.lastmodifiedby;resolveObj={title:title,id:mv.id,revId:mv.revId,protection:$.isArray(mv.protection)?{edit:['*']}:mv.protection,lead:sections[0].text,sections:sections.slice(1),isMainPage:mv.hasOwnProperty('mainpage')?true:false,historyUrl:mw.util.getUrl(title,{action:'history'}),lastModifiedTimestamp:timestamp,languageCount:mv.languagecount,hasVariants:mv.hasOwnProperty('hasvariants'),displayTitle:mv.displaytitle};if(lastModified){$.extend(resolveObj,{lastModifiedUserName:lastModified.name,lastModifiedUserGender:lastModified.gender});}page.resolve(resolveObj);}}).fail($.proxy(page,'reject'));}return this.cache[title];},invalidatePage:function(title){delete this.cache[title];},_getLanguagesFromApiResponse:function(data){var pages,langlinks,allAvailableLanguages={};data.query.languages.forEach(function(item)
{allAvailableLanguages[item.code]=item['*'];});pages=$.map(data.query.pages,function(v){return v;});langlinks=pages[0]?pages[0].langlinks||[]:[];langlinks.forEach(function(item,i){langlinks[i].langname=allAvailableLanguages[item.lang];});return langlinks;},_getLanguageVariantsFromApiResponse:function(title,data){var generalData=data.query.general,variantPath=generalData.variantarticlepath,variants=[];if(!generalData.variants){return false;}generalData.variants.forEach(function(item){var variant={langname:item.name,lang:item.code};if(variantPath){variant.url=variantPath.replace('$1',title).replace('$2',item.code);}else{variant.url=mw.util.getUrl(title,{'variant':item.code});}variants.push(variant);});return variants;},getPageLanguages:function(title){var self=this,result=$.Deferred();self.get({action:'query',meta:'siteinfo',siprop:'general|languages',prop:'langlinks',llurl:true,lllimit:'max',titles:title}).done(function(resp){result.resolve({languages:self._getLanguagesFromApiResponse(
resp),variants:self._getLanguageVariantsFromApiResponse(title,resp)});}).fail($.proxy(result,'reject'));return result;},_getAPIResponseFromHTML:function($el){var $headings=$el.find('h1,h2,h3,h4,h5,h6'),sections=[];$headings.each(function(){var level=$(this)[0].tagName.substr(1),$span=$(this).find('span');sections.push({level:level,line:$span.html(),anchor:$span.attr('id')||'',text:''});});return sections;},getSectionsFromHTML:function($el){return transformSections(this._getAPIResponseFromHTML($el));}});M.define('PageApi',PageApi);}(mw.mobileFrontend,jQuery));(function(M,$){var EventEmitter=M.require('eventemitter'),View;View=EventEmitter.extend({tagName:'div',initialize:function(options){this._super();this.defaults=$.extend({},this._parent.defaults,this.defaults);this.templatePartials=$.extend({},this._parent.templatePartials,this.templatePartials);options=$.extend({},this.defaults,options);if(options.el){this.$el=$(options.el);}else{this.$el=$('<'+this.tagName+'>');}this.$el.addClass(
this.className);if(typeof this.template==='string'){this.template=M.template.compile(this.template);}this.options=options;this.render(options);},preRender:function(){},postRender:function(){},render:function(data){data=$.extend(true,{},this.options,data);this.preRender(data);if(this.template){this.$el.html(this.template.render(data,this.templatePartials));}this.postRender(data);return this;},$:function(query){return this.$el.find(query);}});['append','prepend','appendTo','prependTo','after','before','insertAfter','insertBefore','remove','detach'].forEach(function(prop){View.prototype[prop]=function(){this.$el[prop].apply(this.$el,arguments);return this;};});M.define('View',View);}(mw.mobileFrontend,jQuery));(function(M,$){var View=M.require('View'),Section;Section=View.extend({template:mw.template.get('section'),defaults:{line:'',text:'',editLabel:mw.msg('mobile-frontend-editor-edit')},initialize:function(options){var self=this;this.line=options.line;this.text=options.text;this.
hasReferences=options.hasReferences||false;this.id=options.id||null;this.anchor=options.anchor;this.children=[];$.each(options.children||[],function(){self.children.push(new Section(this));});this._super(options);}});M.define('Section',Section);}(mw.mobileFrontend,jQuery));(function(M,$){var View=M.require('View'),Section=M.require('Section'),Page;Page=View.extend({template:mw.template.get('page'),defaults:{id:0,title:'',displayTitle:'',lead:'',protection:{edit:['*']},inBetaOrAlpha:M.isBetaGroupMember(),isMainPage:false,talkLabel:mw.msg('mobile-frontend-talk-overlay-header'),editLabel:mw.msg('mobile-frontend-editor-edit'),languageLabel:mw.msg('mobile-frontend-language-article-heading')},initialize:function(options){options.displayTitle=options.displayTitle||options.title;this.displayTitle=options.displayTitle;options.languageUrl=mw.util.getUrl('Special:MobileLanguages/'+options.title);this._super(options);},isWikiText:function(){return mw.config.get('wgPageContentModel')==='wikitext';}
,isMainPage:function(){return this.options.isMainPage;},isEditable:function(user){var editProtection=this.options.protection.edit,resp=$.Deferred();user.getGroups().done(function(groups){var editable=false;$.each(groups,function(i,group){if(editProtection.indexOf(group)>-1){editable=true;return false;}});resp.resolve(editable);});return resp;},render:function(options){var pageTitle=options.title,self=this,$el=this.$el,_super=self._super;options.isTalkPage=self.isTalkPage();if(!options.sections){$el.empty().addClass('spinner loading');M.pageApi.getPage(pageTitle).done(function(pageData){options=$.extend(options,pageData);options.hasLanguages=pageData.languageCount>0||pageData.hasVariants;self.displayTitle=options.displayTitle;_super.call(self,options);$el.removeClass('spinner loading');self.emit('ready',self);}).fail($.proxy(self,'emit','error'));}else{self._super(options);}},getRevisionId:function(){return this.options.revId;},getId:function(){return this.options.id;},getNamespaceId:
function(){var args=this.options.title.split(':'),nsId;if(args[1]){nsId=mw.config.get('wgNamespaceIds')[args[0].toLowerCase().replace(' ','_')]||0;}else{nsId=0;}return nsId;},isTalkPage:function(){var ns=this.getNamespaceId();return ns>0&&ns%2===1;},preRender:function(options){var self=this;this.sections=[];this._sectionLookup={};this.title=options.title;this.lead=options.lead;$.each(options.sections,function(){var section=new Section(this);self.sections.push(section);self._sectionLookup[section.id]=section;});},getReferenceSection:function(){return this._referenceLookup;},getSubSection:function(id){return this._sectionLookup[id];},getSubSections:function(){return this.sections;}});M.define('Page',Page);}(mw.mobileFrontend,jQuery));(function(M,$){var Router=M.require('Router'),OverlayManager=M.require('OverlayManager'),qs=window.location.search.split('?')[1],PageApi=M.require('PageApi'),pageApi=new PageApi(),Page=M.require('Page'),router=new Router(),$viewportMeta,viewport,currentPage,
inWideScreenMode=false,ua=window.navigator.userAgent,isAppleDevice=/ipad|iphone/i.test(ua),isIPhone4=isAppleDevice&&/OS 4_/.test(ua),isOldIPhone=isAppleDevice&&/OS [4]_[0-2]|OS [3]_/.test(ua),isIPhone5=isAppleDevice&&/OS 5_/.test(ua),isAndroid2=/Android 2/.test(ua);function supportsPositionFixed(){var support=false;[/AppleWebKit\/(53[4-9]|5[4-9]\d?|[6-9])\d?\d?/,/Android [2-9]/,/Firefox/,/MSIE 1\d/].forEach(function(item){if(item.test(navigator.userAgent)){support=true;}});return support;}function supportsGeoLocation(){return!!navigator.geolocation;}function supportsTouchEvents(){return'ontouchstart'in window;}function escapeHash(hash){return hash.replace(/(:|\.)/g,'\\$1');}function lockViewport(){$viewportMeta.attr('content','initial-scale=1.0, maximum-scale=1.0, user-scalable=no');}function unlockViewport(){$viewportMeta.attr('content',viewport);}function loadWideScreenModules(){var modules=['tablet.styles'];if(!inWideScreenMode&&isWideScreen()&&$('body').hasClass('skin-minerva')&&M.
isBetaGroupMember()){if(inNamespace('')){modules.push('tablet.scripts');}inWideScreenMode=true;mw.loader.using(modules,function(){M.emit('resize');});}}function init(){var $body=$('body'),$doc=$('html'),$viewport=$('#mw-mf-viewport');$doc.removeClass('page-loading');$('<div id="notifications">').appendTo($viewport);if(!supportsPositionFixed()){$doc.addClass('no-position-fixed');$(window).on('scroll',function(){var scrollTop=$(window).scrollTop(),windowHeight=$(window).height(),activeElement=document.activeElement,scrollBottom=scrollTop+windowHeight;if(isOldIPhone){if(activeElement.tagName==='TEXTAREA'||activeElement.tagName==='INPUT'){scrollBottom-=120;}else{scrollBottom+=60;}}if(scrollTop===0){$viewport.add('.mw-mf-overlay').height('100%');}else{$viewport.add('.mw-mf-overlay').height(scrollBottom);}});}$viewportMeta=$('meta[name="viewport"]');viewport=$viewportMeta.attr('content');if(viewport&&viewport.indexOf('minimum-scale')===-1){viewport+=', minimum-scale=0.25, maximum-scale=1.6';
}function fixBrowserBugs(){if($viewportMeta[0]&&(isIPhone4||isIPhone5)){lockViewport();document.addEventListener('gesturestart',function(){lockViewport();},false);}if(isAndroid2){$body.addClass('android2');lockViewport();}}fixBrowserBugs();function supportsAnimations(){var el=$('<p>')[0],$iframe=$('<iframe>'),has3d,t,transforms={'webkitTransform':'-webkit-transform','transform':'transform'};if(isAndroid2){return false;}$iframe.appendTo($body).contents().find('body').append(el);for(t in transforms){if(el.style[t]!==undefined){el.style[t]='translate3d(1px,1px,1px)';has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]);}}$iframe.remove();return has3d!==undefined&&has3d.length>0&&has3d!=="none";}if(mw.config.get('wgMFEnableCssAnimations')&&supportsAnimations()){$doc.addClass('animations');}if(supportsTouchEvents()){$doc.addClass('touch-events');}$(loadWideScreenModules);$(window).on('resize',$.proxy(M,'emit','resize'));M.on('resize',loadWideScreenModules);loadCurrentPage();}
function getOrigin(){return window.location.protocol+'//'+window.location.hostname;}function prettyEncodeTitle(title){return encodeURIComponent(title.replace(/ /g,'_')).replace(/%3A/g,':').replace(/%2F/g,'/');}function log(schemaName,data){if(mw.eventLog){return mw.eventLog.logEvent(schemaName,data);}else{return $.Deferred().reject('EventLogging not installed.');}}function getSessionId(){var sessionId;if(typeof localStorage==='undefined'){return null;}sessionId=localStorage.getItem('sessionId');if(!sessionId){sessionId='';while(sessionId.length<32){sessionId+=Math.random().toString(36).slice(2,32+2-sessionId.length);}localStorage.setItem('sessionId',sessionId);}return sessionId;}function deParam(qs){var params={};if(qs){qs.split('&').forEach(function(p){p=p.split('=');params[p[0]]=p[1];});}return params;}function isWideScreen(){var val=mw.config.get('wgMFDeviceWidthTablet');return window.innerWidth>=val||window.innerHeight>=val;}function reloadPage(page){currentPage=page;var parts=page
.title.split(':');mw.config.set('wgTitle',parts[1]||parts[0]);mw.config.set('wgPageName',page.title.replace(/ /g,'_'));mw.config.set('wgRelevantPageName',page.title);mw.config.set('wgArticleId',page.getId());mw.config.set('wgRevisionId',page.getRevisionId());M.emit('page-loaded',page);document.title=page.displayTitle;}function inNamespace(namespace){return mw.config.get('wgNamespaceNumber')===mw.config.get('wgNamespaceIds')[namespace];}function getCurrentPage(){return currentPage;}function getLeadSection(){return $('#content > div').eq(0);}function loadCurrentPage(){currentPage=new Page({title:mw.config.get('wgPageName').replace(/_/g,' '),protection:{edit:mw.config.get('wgIsPageEditable')?['*']:['unknown']},lead:getLeadSection().html(),isMainPage:mw.config.get('wgIsMainPage'),sections:pageApi.getSectionsFromHTML($('#content')),id:mw.config.get('wgArticleId')});}$.extend(M,{init:init,escapeHash:escapeHash,inNamespace:inNamespace,getCurrentPage:getCurrentPage,getOrigin:getOrigin,
getLeadSection:getLeadSection,getSessionId:getSessionId,isWideScreen:isWideScreen,lockViewport:lockViewport,log:log,reloadPage:reloadPage,supportsGeoLocation:supportsGeoLocation,supportsPositionFixed:supportsPositionFixed,prettyEncodeTitle:prettyEncodeTitle,query:deParam(qs),template:mw.template,unlockViewport:unlockViewport,router:router,overlayManager:new OverlayManager(router),pageApi:pageApi,deParam:deParam,isTestA:mw.config.get('wgUserId')%2===0,tapEvent:function(fallbackEvent){return M.isBetaGroupMember()?'tap':fallbackEvent;}});$(init);}(mw.mobileFrontend,jQuery));(function(M,$){M.settings=(function(){var supportsLocalStorage;try{supportsLocalStorage='localStorage'in window&&window.localStorage!==null;}catch(e){supportsLocalStorage=false;}function cookiesEnabled(){if($.cookie('mf_testcookie')==='test_value'){return true;}else{$.cookie('mf_testcookie','test_value',{path:'/'});return $.cookie('mf_testcookie')==='test_value';}}function writeCookie(name,value,days,path,domain){$.
cookie(name,value,{path:path,expires:days,domain:domain});}function readCookie(name){return $.cookie(name);}function saveUserSetting(name,value,useCookieFallback){return supportsLocalStorage?localStorage.setItem(name,value):(useCookieFallback?writeCookie(name,value,1):false);}function getUserSetting(name,useCookieFallback){return supportsLocalStorage?localStorage.getItem(name):(useCookieFallback?readCookie(name):false);}return{getUserSetting:getUserSetting,readCookie:readCookie,saveUserSetting:saveUserSetting,supportsLocalStorage:supportsLocalStorage,writeCookie:writeCookie,cookiesEnabled:cookiesEnabled};}());}(mw.mobileFrontend,jQuery));},{},{"mobile-frontend-language-article-heading":"Read in another language"});mw.loader.implement("mobile.templates",function($,jQuery){var Hogan={};(function(Hogan,useArrayBuffer){Hogan.Template=function(renderFunc,text,compiler,options){this.r=renderFunc||this.r;this.c=compiler;this.options=options;this.text=text||'';this.buf=(useArrayBuffer)?[]:'';}
Hogan.Template.prototype={r:function(context,partials,indent){return'';},v:hoganEscape,t:coerceToString,render:function render(context,partials,indent){return this.ri([context],partials||{},indent);},ri:function(context,partials,indent){return this.r(context,partials,indent);},rp:function(name,context,partials,indent){var partial=partials[name];if(!partial){return'';}if(this.c&&typeof partial=='string'){partial=this.c.compile(partial,this.options);}return partial.ri(context,partials,indent);},rs:function(context,partials,section){var tail=context[context.length-1];if(!isArray(tail)){section(context,partials,this);return;}for(var i=0;i<tail.length;i++){context.push(tail[i]);section(context,partials,this);context.pop();}},s:function(val,ctx,partials,inverted,start,end,tags){var pass;if(isArray(val)&&val.length===0){return false;}if(typeof val=='function'){val=this.ls(val,ctx,partials,inverted,start,end,tags);}pass=(val==='')||!!val;if(!inverted&&pass&&ctx){ctx.push((typeof val=='object')
?val:ctx[ctx.length-1]);}return pass;},d:function(key,ctx,partials,returnFound){var names=key.split('.'),val=this.f(names[0],ctx,partials,returnFound),cx=null;if(key==='.'&&isArray(ctx[ctx.length-2])){return ctx[ctx.length-1];}for(var i=1;i<names.length;i++){if(val&&typeof val=='object'&&names[i]in val){cx=val;val=val[names[i]];}else{val='';}}if(returnFound&&!val){return false;}if(!returnFound&&typeof val=='function'){ctx.push(cx);val=this.lv(val,ctx,partials);ctx.pop();}return val;},f:function(key,ctx,partials,returnFound){var val=false,v=null,found=false;for(var i=ctx.length-1;i>=0;i--){v=ctx[i];if(v&&typeof v=='object'&&key in v){val=v[key];found=true;break;}}if(!found){return(returnFound)?false:"";}if(!returnFound&&typeof val=='function'){val=this.lv(val,ctx,partials);}return val;},ho:function(val,cx,partials,text,tags){var compiler=this.c;var options=this.options;options.delimiters=tags;var text=val.call(cx,text);text=(text==null)?String(text):text.toString();this.b(compiler.
compile(text,options).render(cx,partials));return false;},b:(useArrayBuffer)?function(s){this.buf.push(s);}:function(s){this.buf+=s;},fl:(useArrayBuffer)?function(){var r=this.buf.join('');this.buf=[];return r;}:function(){var r=this.buf;this.buf='';return r;},ls:function(val,ctx,partials,inverted,start,end,tags){var cx=ctx[ctx.length-1],t=null;if(!inverted&&this.c&&val.length>0){return this.ho(val,cx,partials,this.text.substring(start,end),tags);}t=val.call(cx);if(typeof t=='function'){if(inverted){return true;}else if(this.c){return this.ho(t,cx,partials,this.text.substring(start,end),tags);}}return t;},lv:function(val,ctx,partials){var cx=ctx[ctx.length-1];var result=val.call(cx);if(typeof result=='function'){result=coerceToString(result.call(cx));if(this.c&&~result.indexOf("{\u007B")){return this.c.compile(result,this.options).render(cx,partials);}}return coerceToString(result);}};var rAmp=/&/g,rLt=/</g,rGt=/>/g,rApos=/\'/g,rQuot=/\"/g,hChars=/[&<>\"\']/;function coerceToString(val
){return String((val===null||val===undefined)?'':val);}function hoganEscape(str){str=coerceToString(str);return hChars.test(str)?str.replace(rAmp,'&amp;').replace(rLt,'&lt;').replace(rGt,'&gt;').replace(rApos,'&#39;').replace(rQuot,'&quot;'):str;}var isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==='[object Array]';};})(typeof exports!=='undefined'?exports:Hogan);(function(Hogan){var rIsWhitespace=/\S/,rQuot=/\"/g,rNewline=/\n/g,rCr=/\r/g,rSlash=/\\/g,tagTypes={'#':1,'^':2,'/':3,'!':4,'>':5,'<':6,'=':7,'_v':8,'{':9,'&':10};Hogan.scan=function scan(text,delimiters){var len=text.length,IN_TEXT=0,IN_TAG_TYPE=1,IN_TAG=2,state=IN_TEXT,tagType=null,tag=null,buf='',tokens=[],seenTag=false,i=0,lineStart=0,otag='{{',ctag='}}';function addBuf(){if(buf.length>0){tokens.push(new String(buf));buf='';}}function lineIsWhitespace(){var isAllWhitespace=true;for(var j=lineStart;j<tokens.length;j++){isAllWhitespace=(tokens[j].tag&&tagTypes[tokens[j].tag]<tagTypes['_v'])||(!
tokens[j].tag&&tokens[j].match(rIsWhitespace)===null);if(!isAllWhitespace){return false;}}return isAllWhitespace;}function filterLine(haveSeenTag,noNewLine){addBuf();if(haveSeenTag&&lineIsWhitespace()){for(var j=lineStart,next;j<tokens.length;j++){if(!tokens[j].tag){if((next=tokens[j+1])&&next.tag=='>'){next.indent=tokens[j].toString()}tokens.splice(j,1);}}}else if(!noNewLine){tokens.push({tag:'\n'});}seenTag=false;lineStart=tokens.length;}function changeDelimiters(text,index){var close='='+ctag,closeIndex=text.indexOf(close,index),delimiters=trim(text.substring(text.indexOf('=',index)+1,closeIndex)).split(' ');otag=delimiters[0];ctag=delimiters[1];return closeIndex+close.length-1;}if(delimiters){delimiters=delimiters.split(' ');otag=delimiters[0];ctag=delimiters[1];}for(i=0;i<len;i++){if(state==IN_TEXT){if(tagChange(otag,text,i)){--i;addBuf();state=IN_TAG_TYPE;}else{if(text.charAt(i)=='\n'){filterLine(seenTag);}else{buf+=text.charAt(i);}}}else if(state==IN_TAG_TYPE){i+=otag.length-1;
tag=tagTypes[text.charAt(i+1)];tagType=tag?text.charAt(i+1):'_v';if(tagType=='='){i=changeDelimiters(text,i);state=IN_TEXT;}else{if(tag){i++;}state=IN_TAG;}seenTag=i;}else{if(tagChange(ctag,text,i)){tokens.push({tag:tagType,n:trim(buf),otag:otag,ctag:ctag,i:(tagType=='/')?seenTag-ctag.length:i+otag.length});buf='';i+=ctag.length-1;state=IN_TEXT;if(tagType=='{'){if(ctag=='}}'){i++;}else{cleanTripleStache(tokens[tokens.length-1]);}}}else{buf+=text.charAt(i);}}}filterLine(seenTag,true);return tokens;}
function cleanTripleStache(token){if(token.n.substr(token.n.length-1)==='}'){token.n=token.n.substring(0,token.n.length-1);}}function trim(s){if(s.trim){return s.trim();}return s.replace(/^\s*|\s*$/g,'');}function tagChange(tag,text,index){if(text.charAt(index)!=tag.charAt(0)){return false;}for(var i=1,l=tag.length;i<l;i++){if(text.charAt(index+i)!=tag.charAt(i)){return false;}}return true;}function buildTree(tokens,kind,stack,customTags){var instructions=[],opener=null,token=null;while(tokens.length>0){token=tokens.shift();if(token.tag=='#'||token.tag=='^'||isOpener(token,customTags)){stack.push(token);token.nodes=buildTree(tokens,token.tag,stack,customTags);instructions.push(token);}else if(token.tag=='/'){if(stack.length===0){throw new Error('Closing tag without opener: /'+token.n);}opener=stack.pop();if(token.n!=opener.n&&!isCloser(token.n,opener.n,customTags)){throw new Error('Nesting error: '+opener.n+' vs. '+token.n);}opener.end=token.i;return instructions;}else{instructions.
push(token);}}if(stack.length>0){throw new Error('missing closing tag: '+stack.pop().n);}return instructions;}function isOpener(token,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].o==token.n){token.tag='#';return true;}}}function isCloser(close,open,tags){for(var i=0,l=tags.length;i<l;i++){if(tags[i].c==close&&tags[i].o==open){return true;}}}Hogan.generate=function(tree,text,options){var code='var _=this;_.b(i=i||"");'+walk(tree)+'return _.fl();';if(options.asString){return'function(c,p,i){'+code+';}';}return new Hogan.Template(new Function('c','p','i',code),text,Hogan,options);}
function esc(s){return s.replace(rSlash,'\\\\').replace(rQuot,'\\\"').replace(rNewline,'\\n').replace(rCr,'\\r');}function chooseMethod(s){return(~s.indexOf('.'))?'d':'f';}function walk(tree){var code='';for(var i=0,l=tree.length;i<l;i++){var tag=tree[i].tag;if(tag=='#'){code+=section(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n),tree[i].i,tree[i].end,tree[i].otag+" "+tree[i].ctag);}else if(tag=='^'){code+=invertedSection(tree[i].nodes,tree[i].n,chooseMethod(tree[i].n));}else if(tag=='<'||tag=='>'){code+=partial(tree[i]);}else if(tag=='{'||tag=='&'){code+=tripleStache(tree[i].n,chooseMethod(tree[i].n));}else if(tag=='\n'){code+=text('"\\n"'+(tree.length-1==i?'':' + i'));}else if(tag=='_v'){code+=variable(tree[i].n,chooseMethod(tree[i].n));}else if(tag===undefined){code+=text('"'+esc(tree[i])+'"');}}return code;}function section(nodes,id,method,start,end,tags){return'if(_.s(_.'+method+'("'+esc(id)+'",c,p,1),'+'c,p,0,'+start+','+end+',"'+tags+'")){'+'_.rs(c,p,'+'function(c,p,_){'+walk(
nodes)+'});c.pop();}';}function invertedSection(nodes,id,method){return'if(!_.s(_.'+method+'("'+esc(id)+'",c,p,1),c,p,1,0,0,"")){'+walk(nodes)+'};';}function partial(tok){return'_.b(_.rp("'+esc(tok.n)+'",c,p,"'+(tok.indent||'')+'"));';}function tripleStache(id,method){return'_.b(_.t(_.'+method+'("'+esc(id)+'",c,p,0)));';}function variable(id,method){return'_.b(_.v(_.'+method+'("'+esc(id)+'",c,p,0)));';}function text(id){return'_.b('+id+');';}Hogan.parse=function(tokens,text,options){options=options||{};return buildTree(tokens,'',[],options.sectionTags||[]);},Hogan.cache={};Hogan.compile=function(text,options){options=options||{};var key=text+'||'+!!options.asString;var t=this.cache[key];if(t){return t;}t=this.generate(this.parse(this.scan(text,options.delimiters),text,options),text,options);return this.cache[key]=t;};})(typeof exports!=='undefined'?exports:Hogan);(function($){var templates={},template;template={add:function(name,markup){templates[name]=this.compile(markup);},get:
function(name){if(!templates[name]){throw new Error('Template not found: '+name);}return templates[name];},compile:function(templateBody){return Hogan.compile(templateBody);}};$.extend(mw,{template:template});}(jQuery));},{},{});mw.loader.implement("mobile.toggling",function($,jQuery){(function(M,$){function toggle($heading){var isCollapsed=$heading.is('.openSection');$heading.toggleClass('openSection');$heading.next().toggleClass('openSection').attr({'aria-pressed':!isCollapsed,'aria-expanded':!isCollapsed});M.emit('section-toggle',$heading);}function reveal(selector){var $target,$heading;try{$target=$(M.escapeHash(selector));$heading=$target.closest('.section_heading').eq(0);if($heading.length>0&&!$heading.hasClass('openSection')){toggle($heading);window.scrollTo(0,$target.offset().top);}}catch(e){}}function init($page){var tagName='h2',$headings,expandSections,collapseSectionsByDefault=mw.config.get('wgMFCollapseSectionsByDefault');$page=$page||$('#content');$('html').removeClass(
'stub');if($page.find('h1').length>0){tagName='h1';}$page.find(tagName).addClass('section_heading');$headings=$page.find('.section_heading');$headings.next('div').addClass('content_block');if(collapseSectionsByDefault===undefined){collapseSectionsByDefault=true;}expandSections=!collapseSectionsByDefault||(M.isAlphaGroupMember()&&M.settings.getUserSetting('expandSections',true)==='true');$headings.each(function(i){var $elem=$(this),id='content_block_'+i;$elem.next('.content_block').eq(0).attr({id:id,'aria-pressed':'false','aria-expanded':'false'});$elem.attr({role:'button',tabindex:0,'aria-haspopup':'true','aria-controls':id}).on(M.tapEvent('mouseup'),function(ev){ev.preventDefault();toggle($(this));});if((M.isWideScreen()&&M.isBetaGroupMember())||expandSections){toggle($elem);}});function checkHash(){var hash=window.location.hash;if(hash.indexOf('#')===0){reveal(hash);}}checkHash();$('#content_wrapper a').on('click',checkHash);M.emit('toggling-enabled',$headings);}if(!M.inNamespace(
'special')&&!mw.config.get('wgIsMainPage')){init();}M.on('page-loaded',function(){init();});if(!M.isAlphaGroupMember()||!M.isApp()){M.on('section-toggle',function($section){var $content=$section.next(),content=$content.data('content');if(content){$content.html(content).data('content',false);}});}M.define('toggle',{reveal:reveal,toggle:toggle,enable:init});}(mw.mobileFrontend,jQuery));},{},{});mw.loader.implement("mobile.user",function($,jQuery){(function(M,$){var user;user=$.extend({},mw.user,{getEditCount:function(){return mw.config.get('wgUserEditCount');},getGroups:function(){return $.Deferred().resolve(mw.config.get('wgUserGroups'));}});M.define('user',user);}(mw.mobileFrontend,jQuery));},{},{});
/* cache key: bindingofisaacre_gamepedia:resourceloader:filter:minify-js:7:c656cdcc17b256a97101e863f3e60638 */